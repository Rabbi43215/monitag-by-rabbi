<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Monetag Ads - Coin Earn</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 500px; margin: 20px auto; background:#111; color:#eee; }
  button { padding: 12px 20px; font-size: 18px; cursor: pointer; border-radius: 8px; border:none; background: #0f0; color:#000; }
  #message { margin-top: 15px; font-weight: bold; }
  .stats { margin-top: 30px; }
  .progress-container {
    width: 100%; background: #222; border-radius: 10px; overflow: hidden; margin-top: 10px;
  }
  .progress-bar {
    height: 25px; width: 0%; background: #0f0; text-align: center; line-height: 25px; color:#000; font-weight: bold;
  }
</style>
</head>
<body>

<h2>Watch Monetag Ad & Earn Coins</h2>

<button id="watch-ads">Watch Ad</button>
<button id="reset" style="background:#f44; margin-left: 10px;">Reset Coins</button>

<div id="message"></div>

<div class="stats">
  <div>Total Ads Available: <span id="total-ads">100</span></div>
  <div>Ads Watched: <span id="ads-watched">0</span></div>
  <div>Rewards Earned: <span id="rewards-earned">0</span></div>
  <div class="progress-container">
    <div id="progress-bar" class="progress-bar">0%</div>
  </div>
</div>

<!-- Monetag SDK with your zone -->
<script src="//solseewuthi.net/sdk.js" data-zone="8616215" data-sdk="show_8616215"></script>

<script>
  const watchAdsButton = document.getElementById('watch-ads');
  const resetButton = document.getElementById('reset');
  const messageEl = document.getElementById('message');
  const totalAds = 100;
  const totalAdsEl = document.getElementById('total-ads');
  const adsWatchedEl = document.getElementById('ads-watched');
  const rewardsEarnedEl = document.getElementById('rewards-earned');
  const progressBarEl = document.getElementById('progress-bar');

  totalAdsEl.textContent = totalAds;

  // Local storage keys
  const ADS_WATCHED_KEY = 'adsWatched';

  function getAdsWatched() {
    return parseInt(localStorage.getItem(ADS_WATCHED_KEY)) || 0;
  }

  function setAdsWatched(val) {
    localStorage.setItem(ADS_WATCHED_KEY, val);
  }

  function updateStats() {
    const adsWatched = getAdsWatched();
    const rewardsEarned = adsWatched * 10;
    adsWatchedEl.textContent = adsWatched;
    rewardsEarnedEl.textContent = rewardsEarned;
    const percent = Math.min((adsWatched / totalAds) * 100, 100);
    progressBarEl.style.width = percent + '%';
    progressBarEl.textContent = Math.round(percent) + '%';
  }

  function loadAd() {
    try {
      window.show_8616215();
      messageEl.textContent = 'Ad loaded. Waiting for completion...';

      setTimeout(() => {
        let watched = getAdsWatched();
        if(watched < totalAds){
          watched++;
          setAdsWatched(watched);
          messageEl.textContent = 'âœ… Reward added!';
          updateStats();
        } else {
          messageEl.textContent = 'You have reached max ads watched.';
        }
      }, 15000); // approx ad duration
    } catch (e) {
      messageEl.textContent = 'Failed to load ad.';
    }
  }

  watchAdsButton.addEventListener('click', () => {
    messageEl.textContent = '';
    loadAd();
  });

  resetButton.addEventListener('click', () => {
    localStorage.removeItem(ADS_WATCHED_KEY);
    messageEl.textContent = 'Coins reset.';
    updateStats();
  });

  updateStats();
</script>

</body>
</html>
